<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Let's make a new army!</title>

  
    <!--<link rel="stylesheet" type="text/css" href="css/stylesheet.css">!-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo:wght@700&family=Ubuntu:wght@300&display=swap" rel="stylesheet">
    <!--JS For Factions-->
    <script src = "../js/factionArray.js"></script>

    <meta charset="UTF-8">

    <meta name="description" content="Add a bunch of units">

    <meta name="keywords" content="school, grades, websites, javascript, turtles">
    <script src = "../js/asmUnitArray.js"></script>
    <script src = "../js/orksUnitArray.js"></script>
    <script src = "../js/tauEmpireUnitArray.js"></script>
    <title>Army Builder Test</title>
<script>
	const myUnitList =[];
	const myUnitCost =[];
	const myCostTotal=[];

	//This loads the factions up.
function loadFactions(){
    for(var x=0; x<factions.length;x++){
        document.write("<option id="+"factionName"+" name="+"factionName" + " value=" + factionValue[x]+">" + factions[x]+"</options>");
    }
}

/*		Troop Name: <input name="troops.troop1" type="text"> </br>
		Troop Cost: <input name="troops.tCost1" type="test"> </br>
		Fast Attack Name: <input name="fa.fa1" type="text"> </br>
		Fast Attack Cost: <input name="fa.faCost1" type="text"> </br>
		HQ Name: <input name="hq.hq1" type="text"> </br>
		HQ Cost: <input name="hq.hqCost1" type="test"> </br>
		Heavy Support Name: <input name="hs.hs1" type="text"> </br>
		Heavy Support Cost: <input name="hs.hsCost1" type="test"> </br>
		Dedicated Transport Name: <input name="dt.dt1" type="text"> </br>
		Dedicated Transport Cost: <input name="dt.dtCost1" type="test"> </br>
		Elite Name: <input name="e.elite1" type="text"> </br>
		Elite Cost: <input name="e.eCost1" type="test"> </br>
		Lord of War Name: <input name="low.low1" type="text"> </br>
		Lord of War Cost: <input name="low.lowCost1" type="test"> </br>
		</div> */
function chooseUnitsToList(){

//checks the faction value
var factionValue = document.getElementById("factionName").value;

//if a faction is selected
if(factionValue === "Tau" || factionValue === "Orks" || factionValue === "Astram"){
//Creates the <select id=unitDisplayer></select>

document.getElementById("unitBox").innerHTML = 
//HQ SELECT
"</br>Select HQ: <select id ="+"hq1 "+"name="+"hq.hq1"+"></select> "+
	"SECRET BOX HERE <select id ="+"hqCost1 "+"name="+"hq.hqCost1"+" hidden></select></br></br>"+
/*2*/"Select HQ: <select id ="+"hq2 "+"name="+"hq.hq2"+"></select> "+
	"SECRET BOX HERE <select id ="+"hqCost2 "+"name="+"hq.hqCost2"+" hidden></select></br></br>"+
/*3*/"Select HQ: <select id ="+"hq3 "+"name="+"hq.hq3"+"></select> "+
	"SECRET BOX HERE <select id ="+"hqCost3 "+"name="+"hq.hqCost3"+" hidden></select></br></br>"+
//TROOP SELECT
"Select troops: <select id ="+"troops1 "+"name="+"troops.troop1"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost1 "+"name="+"troops.tCost1"+" hidden></select></br></br>"+
/*2*/"Select troops: <select id ="+"troops2 "+"name="+"troops.troop2"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost2 "+"name="+"troops.tCost2"+" hidden></select></br></br>"+
/*3*/"Select troops: <select id ="+"troops3 "+"name="+"troops.troop3"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost3 "+"name="+"troops.tCost3"+" hidden></select></br></br>"+
/*4*/"Select troops: <select id ="+"troops4 "+"name="+"troops.troop4"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost4 "+"name="+"troops.tCost4"+" hidden></select></br></br>"+
/*5*/"Select troops: <select id ="+"troops5 "+"name="+"troops.troop5"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost5 "+"name="+"troops.tCost5"+" hidden></select></br></br>"+
/*6*/"Select troops: <select id ="+"troops6 "+"name="+"troops.troop6"+"></select>"+
	"SECRET BOX HERE <select id ="+"tCost6 "+"name="+"troops.tCost6"+" hidden></select></br></br>"+
//ELITE SELECT
"Select elites: <select id ="+"elites1 "+"name="+"e.elite1"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost1 "+"name="+"e.eCost1"+" hidden></select></br></br>"+
/*2*/"Select elites: <select id ="+"elites2 "+"name="+"e.elite2"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost2 "+"name="+"e.eCost2"+" hidden></select></br></br>"+
/*3*/"Select elites: <select id ="+"elites3 "+"name="+"e.elite3"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost3 "+"name="+"e.eCost3"+" hidden></select></br></br>"+
/*4*/"Select elites: <select id ="+"elites4 "+"name="+"e.elite4"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost4 "+"name="+"e.eCost4"+" hidden></select></br></br>"+
/*5*/"Select elites: <select id ="+"elites5 "+"name="+"e.elite5"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost5 "+"name="+"e.eCost5"+" hidden></select></br></br>"+
/*6*/"Select elites: <select id ="+"elites6 "+"name="+"e.elite6"+"></select>"+
	"SECRET BOX HERE <select id ="+"eCost6 "+"name="+"e.eCost6"+" hidden></select></br></br>"+
//FAST ATTACK
/*1*/"Select fastattack: <select id ="+"fastattack1 "+"name="+"fa.fa1"+"></select>"+
"SECRET BOX HERE <select id ="+"faCost1 "+"name="+"fa.faCost1"+" hidden></select></br></br>"+
/*2*/"Select fastattack: <select id ="+"fastattack2 "+"name="+"fa.fa2"+"></select>"+
"SECRET BOX HERE <select id ="+"faCost2 "+"name="+"fa.faCost2"+" hidden></select></br></br>"+
/*3*/"Select fastattack: <select id ="+"fastattack3 "+"name="+"fa.fa3"+"></select>"+
"SECRET BOX HERE <select id ="+"faCost3 "+"name="+"fa.faCost3"+" hidden></select></br></br>"+
//HEAVY
/*1*/"Select heavysupport: <select id ="+"heavysupport1 "+"name="+"hs.hs1"+"></select>"+
"SECRET BOX HERE <select id ="+"hsCost1 "+"name="+"hs.hsCost1"+" hidden></select></br></br>"+
/*2*/"Select heavysupport: <select id ="+"heavysupport2 "+"name="+"hs.hs2"+"></select>"+
"SECRET BOX HERE <select id ="+"hsCost2 "+"name="+"hs.hsCost2"+" hidden></select></br></br>"+
/*3*/"Select heavysupport: <select id ="+"heavysupport3 "+"name="+"hs.hs3"+"></select>"+
"SECRET BOX HERE <select id ="+"hsCost3 "+"name="+"hs.hsCost3"+" hidden></select></br></br>"+
//LoW
/*1*/"Select lordofwar: <select id ="+"lordofwar1 "+"name="+"low.low1"+"></select>"+
"SECRET BOX HERE <select id ="+"lowCost1 "+"name="+"low.lowCost1"+" hidden></select></br></br>"+
/*2*/"Select lordofwar: <select id ="+"lordofwar2 "+"name="+"low.low2"+"></select>"+
"SECRET BOX HERE <select id ="+"lowCost2 "+"name="+"low.lowCost2"+" hidden></select></br></br>"+
/*3*/"Select lordofwar: <select id ="+"lordofwar3 "+"name="+"low.low3"+"></select>"+
"SECRET BOX HERE <select id ="+"lowCost3 "+"name="+"low.lowCost3"+" hidden></select></br></br>"+
/*4*/"Select lordofwar: <select id ="+"lordofwar4 "+"name="+"low.low4"+"></select>"+
"SECRET BOX HERE <select id ="+"lowCost4 "+"name="+"low.lowCost4"+" hidden></select></br></br>"+
/*5*/"Select lordofwar: <select id ="+"lordofwar5 "+"name="+"low.low5"+"></select>"+
"SECRET BOX HERE <select id ="+"lowCost5 "+"name="+"low.lowCost5"+" hidden></select></br></br>"+
//Transport
/*1*/"Select transport: <select id ="+"transport1 "+"name="+"dt.dt1"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost1 "+"name="+"dt.tdCost1"+" hidden></select></br></br>"+
/*2*/"Select transport: <select id ="+"transport2 "+"name="+"dt.dt2"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost2 "+"name="+"dt.tdCost2"+" hidden></select></br></br>"+
/*3*/"Select transport: <select id ="+"transport3 "+"name="+"dt.dt3"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost3 "+"name="+"dt.tdCost3"+" hidden></select></br></br>"+
/*4*/"Select transport: <select id ="+"transport4 "+"name="+"dt.dt4"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost4 "+"name="+"dt.tdCost4"+" hidden></select></br></br>"+
/*5*/"Select transport: <select id ="+"transport5 "+"name="+"dt.dt5"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost5 "+"name="+"dt.tdCost5"+" hidden></select></br></br>"+
/*6*/"Select transport: <select id ="+"transport6 "+"name="+"dt.dt6"+"></select>"+
"SECRET BOX HERE <select id ="+"dtCost6 "+"name="+"dt.tdCost6"+" hidden></select></br></br>"+
//Flyer
/*1*/"Select flyer: <select id ="+"flyer1 "+"name="+"noObject"+"></select>"+
"SECRET BOX HERE <select id ="+"flCost1 "+"name="+"noObject"+" hidden></select></br></br>"+
//Fort
/*1*/"Select fortification: <select id ="+"fortification1 "+"name="+"noObject"+"></select>"+
"SECRET BOX HERE <select id ="+"ftCost1 "+"name="+"noObject"+" hidden></select></br></br>"
;
//Also erases error if proper option is selected
document.getElementById("error").innerHTML = "";
//Now we populate id unitDisplayer with a new function
populateFactionUnitList();
} else {
//returns error
document.getElementById("error").innerHTML ="<h1>Pick a Faction</h1>"
//gets rid of <select>
document.getElementById("unitBox").innerHTML="";
}

}
//This is the one that will check which faction you have and pull up a method to each individual faction unit list.
function populateFactionUnitList(){

//checks the faction value
var factionValue = document.getElementById("factionName").value;
if (factionValue==="Tau"){
fillTau();
} if(factionValue==="Astram"){
fillAsm();
} if(factionValue==="Orks"){
fillOrk();
}
}

function changeBoxAtSameTime(){
	document.getElementById('hq').addEventListener("change", function () {
    document.getElementById('hqCost').selectedIndex = document.getElementById('hq').selectedIndex;
}, false);
}

</script>
</head>
<body>
<h1>Enter your Army's Name, and total points!</h1>

<!-- Form for the Army Name/Faction and Points-->
<form form th:object="${newArmy}" th:action="newArmy" method="get" >
		Army Name: <input name="armyName" type="text"> </br></br>
		Factions: <select name="factionName" id="factionName" onchange="chooseUnitsToList()">
					<script>loadFactions();</script>
				  </select>
	<div th:object="${newUnit}" th:action="newUnit" method="get">
		<!--Unit Box; where the units populate.-->
		<span id="unitBox"></span>
		<span id="error"></span>
	</div> 
		
		<input name="submit" type ="submit" value="submit" />
</form>

</body>
</html>
